import{_ as F,n as H,o as C,p as d,e as p,g as U,t as N,l as b,a as G,f as _e,r as y,c as m,W as oe,w as se,K as W}from"./_plugin-vue_export-helper-n_vHXFlc.js";import{d as D}from"./utils.esm-CMazHLgs.js";import{u as w,b as re,c as z}from"./useBranding-C51QoB-t.js";import{k as he,u as Ie,f as ne,h as ie,c as pe,i as Te,g as le,j as ve,m as me,I as Ce,n as Se}from"./dashboard-DaT-cgYc.js";import{H as Re}from"./HelpCenterLayout-CP5dHFgN.js";import{P as Pe,S as Le,q as ye,s as be,L as we,E as xe,n as Oe,N as ke,O as ce}from"./typing-Dhk99rRl.js";import{u as M,a as X}from"./index-CQMLlWJA.js";import{u as K,ai as de}from"./Validators-0vUS0OnA.js";import{bM as ge,bU as Y}from"./DashboardIcon-CCM-1oGA.js";import{B as J}from"./index-UYK3fwMr.js";import{A as Ue}from"./index-DzK6ljgP.js";function De(o,t,r){r.state.doc.descendants((e,n)=>{if(e.type.name==="image"&&e.attrs.src===o){const c=r.state.tr.setNodeMarkup(n,null,{...e.attrs,src:t});r.dispatch(c)}})}const Ne=o=>new Pe({props:{handlePaste(t,r,e){const n=[];e.content.descendants(c=>{c.type.name==="image"&&n.push(c.attrs.src)}),Promise.all(n.map(async c=>{try{const s=await o(c);De(c,s,t)}catch(s){console.error("Error uploading image:",s)}}))}}}),ue=4,Ee=(o,t,r=[],e={},n)=>xe.create({doc:new ke(ce).parse(o),plugins:Oe({schema:ce,placeholder:t,methods:e,plugins:r,enabledMenuOptions:n})});let h=null,L;const Me={mixins:[he],props:{modelValue:{type:String,default:""},editorId:{type:String,default:""},placeholder:{type:String,default:""},enabledMenuOptions:{type:Array,default:()=>[]},autofocus:{type:Boolean,default:!0}},emits:["blur","input","update:modelValue","keyup","focus","keydown"],setup(){const{uiSettings:o,updateUISettings:t}=Ie();return{uiSettings:o,updateUISettings:t}},data(){return{plugins:[Ne(this.handleImageUpload)],isTextSelected:!1}},watch:{modelValue(o=""){o!==this.contentFromEditor()&&this.reloadState()},editorId(){this.reloadState()}},created(){L=Ee(this.modelValue,this.placeholder,this.plugins,{onImageUpload:this.openFileBrowser},this.enabledMenuOptions)},mounted(){this.createEditorView(),h.updateState(L),this.autofocus&&this.focusEditorInputField()},methods:{contentFromEditor(){return h?we.serialize(h.state.doc):""},openFileBrowser(){this.$refs.imageUploadInput.click()},async handleImageUpload(o){try{return await this.$store.dispatch("articles/uploadExternalImage",{portalSlug:this.$route.params.portalSlug,url:o})}catch{return M(this.$t("HELP_CENTER.ARTICLE_EDITOR.IMAGE_UPLOAD.UN_AUTHORIZED_ERROR")),""}},onFileChange(){const o=this.$refs.imageUploadInput.files[0];be(o,ue)?this.uploadImageToStorage(o):M(this.$t("HELP_CENTER.ARTICLE_EDITOR.IMAGE_UPLOAD.ERROR_FILE_SIZE",{size:ue})),this.$refs.imageUploadInput.value=""},async uploadImageToStorage(o){try{const t=await this.$store.dispatch("articles/attachImage",{portalSlug:this.$route.params.portalSlug,file:o});t&&this.onImageUploadStart(t)}catch{M(this.$t("HELP_CENTER.ARTICLE_EDITOR.IMAGE_UPLOAD.ERROR"))}},onImageUploadStart(o){const{selection:t}=h.state,r=t.from,e=h.state.schema.nodes.image.create({src:o}),n=h.state.schema.node("paragraph");if(e){const c=h.state.tr.replaceSelectionWith(n).insert(r+1,e);h.dispatch(c.scrollIntoView()),this.focusEditorInputField()}},reloadState(){L=Ee(this.modelValue,this.placeholder,this.plugins,{onImageUpload:this.openFileBrowser},this.enabledMenuOptions),h.updateState(L),this.focusEditorInputField()},createEditorView(){h=new ye(this.$refs.editor,{state:L,dispatchTransaction:o=>{L=L.apply(o),h.updateState(L),o.docChanged&&this.emitOnChange(),this.checkSelection(L)},handleDOMEvents:{keyup:this.onKeyup,focus:this.onFocus,blur:this.onBlur,keydown:this.onKeydown,paste:(o,t)=>{const r=t.clipboardData.files;r.length>0&&(r.forEach(e=>{e.type.includes("image")&&this.uploadImageToStorage(e)}),t.preventDefault())}}})},handleKeyEvents(){},focusEditorInputField(){const{tr:o}=h.state,t=Le.atEnd(o.doc);h.dispatch(o.setSelection(t)),h.focus()},emitOnChange(){this.$emit("update:modelValue",this.contentFromEditor()),this.$emit("input",this.contentFromEditor())},onKeyup(){this.$emit("keyup")},onKeydown(){this.$emit("keydown")},onBlur(){this.$emit("blur")},onFocus(){this.$emit("focus")},checkSelection(o){const{from:t,to:r}=o.selection,e=t!==r;if(e===this.isTextSelected)return;this.isTextSelected=e;const{editor:n}=this.$refs;n.classList.toggle("has-selection",e),e&&this.setMenubarPosition(o)},setMenubarPosition(o){if(!o.selection)return;const{from:t,to:r}=o.selection,{editor:e}=this.$refs,{left:n,top:c}=e.getBoundingClientRect(),s=e.offsetWidth,E=480,{bottom:_,right:A}=h.coordsAtPos(r),{left:u}=h.coordsAtPos(t),f=_-c+10,I=Math.max(0,Math.min((u+A)/2-n,s-E));e.style.setProperty("--selection-top",`${f}px`),e.style.setProperty("--selection-left",`${I}px`)}}},He={class:"editor-root editor--article"},Be={ref:"editor"};function Ve(o,t,r,e,n,c){return C(),H("div",null,[d("div",He,[d("input",{ref:"imageUploadInput",type:"file",accept:"image/png, image/jpeg, image/jpg, image/gif, image/webp",hidden:"",onChange:t[0]||(t[0]=(...s)=>c.onFileChange&&c.onFileChange(...s))},null,544),d("div",Be,null,512)])])}const Ge=F(Me,[["render",Ve],["__file","/app/app/javascript/dashboard/components/widgets/WootWriter/FullEditor.vue"]]),Fe={__name:"ArticleEditorHeader",props:{isUpdating:{type:Boolean,default:!1},isSaved:{type:Boolean,default:!1},status:{type:String,default:""},articleId:{type:Number,default:0}},emits:["goBack","previewArticle"],setup(o,{expose:t,emit:r}){t();const e=o,n=r,{t:c}=w(),s=re(),E=K(),_=y(!1),{ARTICLE_STATUS_TYPES:A}=de,u=y(!1),f=m(()=>(ne[e.status]??[]).map(l=>{const{label:x,value:R,icon:Z}=ie[l];return{label:c(x),value:R,action:"update-status",icon:Z}})),I=m(()=>c(`HELP_CENTER.EDIT_ARTICLE_PAGE.HEADER.STATUS.${e.isUpdating?"SAVING":"SAVED"}`)),S=()=>n("goBack"),k=()=>n("previewArticle"),v=(T,l)=>{const x=l?"SUCCESS":"ERROR",R={[A.PUBLISH]:"PUBLISH_ARTICLE",[A.ARCHIVE]:"ARCHIVE_ARTICLE",[A.DRAFT]:"DRAFT_ARTICLE"};return R[T]?c(`HELP_CENTER.${R[T]}.API.${x}`):""},P={props:e,emit:n,t:c,store:s,route:E,isArticlePublishing:_,ARTICLE_STATUS_TYPES:A,showArticleActionMenu:u,articleMenuItems:f,statusText:I,onClickGoBack:S,previewArticle:k,getStatusMessage:v,updateArticleStatus:async({value:T})=>{u.value=!1;const l=le(T);l===A.PUBLISH&&(_.value=!0);const{portalSlug:x}=E.params;try{await s.dispatch("articles/update",{portalSlug:x,articleId:e.articleId,status:l}),M(v(l,!0)),l===A.ARCHIVE?X(Y.ARCHIVE_ARTICLE,{uiFrom:"header"}):l===A.PUBLISH&&X(Y.PUBLISH_ARTICLE),_.value=!1}catch(R){M((R==null?void 0:R.message)??v(l,!1)),_.value=!1}},computed:m,ref:y,get useI18n(){return w},get useRoute(){return K},get useStore(){return re},get useAlert(){return M},get useTrack(){return X},get PORTALS_EVENTS(){return Y},get OnClickOutside(){return ge},get getArticleStatus(){return le},get ARTICLE_EDITOR_STATUS_OPTIONS(){return ne},get ARTICLE_STATUSES(){return Te},get ARTICLE_MENU_ITEMS(){return ie},get wootConstants(){return de},Button:J,DropdownMenu:pe};return Object.defineProperty(P,"__isScriptSetup",{enumerable:!1,value:!0}),P}},je={class:"flex items-center justify-between h-20"},ze={class:"flex items-center gap-4"},We={key:0,class:"text-xs font-medium transition-all duration-300 text-n-slate-11"},Ke={class:"flex items-center gap-2"},Ze={class:"flex items-center"},qe={class:"relative"};function Xe(o,t,r,e,n,c){return C(),H("div",je,[p(e.Button,{label:e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.HEADER.BACK_TO_ARTICLES"),icon:"i-lucide-chevron-left",variant:"link",color:"slate",size:"sm",class:"ltr:pl-3 rtl:pr-3",onClick:e.onClickGoBack},null,8,["label"]),d("div",ze,[r.isUpdating||r.isSaved?(C(),H("span",We,N(e.statusText),1)):U("v-if",!0),d("div",Ke,[p(e.Button,{label:e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.HEADER.PREVIEW"),color:"slate",size:"sm",disabled:!r.articleId,onClick:e.previewArticle},null,8,["label","disabled"]),d("div",Ze,[p(e.Button,{label:e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.HEADER.PUBLISH"),size:"sm",class:"ltr:rounded-r-none rtl:rounded-l-none","is-loading":e.isArticlePublishing,disabled:r.status===e.ARTICLE_STATUSES.PUBLISHED||!r.articleId||e.isArticlePublishing,onClick:t[0]||(t[0]=s=>e.updateArticleStatus({value:e.ARTICLE_STATUSES.PUBLISHED}))},null,8,["label","is-loading","disabled"]),d("div",qe,[p(e.OnClickOutside,{onTrigger:t[3]||(t[3]=s=>e.showArticleActionMenu=!1)},{default:b(()=>[p(e.Button,{icon:"i-lucide-chevron-down",size:"sm",disabled:!r.articleId,class:"ltr:rounded-l-none rtl:rounded-r-none",onClick:t[1]||(t[1]=_e(s=>e.showArticleActionMenu=!e.showArticleActionMenu,["stop"]))},null,8,["disabled"]),e.showArticleActionMenu?(C(),G(e.DropdownMenu,{key:0,"menu-items":e.articleMenuItems,class:"mt-2 ltr:right-0 rtl:left-0 top-full",onAction:t[2]||(t[2]=s=>e.updateArticleStatus(s))},null,8,["menu-items"])):U("v-if",!0)]),_:1})])])])])])}const Ye=F(Fe,[["render",Xe],["__file","/app/app/javascript/dashboard/components-next/HelpCenter/Pages/ArticleEditorPage/ArticleEditorHeader.vue"]]),Je={__name:"ArticleEditorProperties",props:{article:{type:Object,required:!0}},emits:["saveArticle","close"],setup(o,{expose:t,emit:r}){t();const e=o,n=r,c=D(u=>n("saveArticle",u),400,!1),{t:s}=w(),E=oe({title:"",description:"",tags:[]}),_=()=>{var u,f,I;E.title=((u=e.article.meta)==null?void 0:u.title)||"",E.description=((f=e.article.meta)==null?void 0:f.description)||"",E.tags=((I=e.article.meta)==null?void 0:I.tags)||[]};se(E,u=>{c({title:u.title,description:u.description,tags:u.tags})},{deep:!0}),W(()=>{_()});const A={props:e,emit:n,saveArticle:c,t:s,state:E,updateState:_,reactive:oe,watch:se,onMounted:W,get useI18n(){return w},get debounce(){return D},InlineInput:Ce,TextArea:me,TagInput:ve,Button:J};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}},Qe={class:"flex flex-col absolute w-[25rem] bg-n-alpha-3 outline outline-1 outline-n-container backdrop-blur-[100px] shadow-lg gap-6 rounded-xl p-6"},$e={class:"flex items-center justify-between"},et={class:"flex flex-col gap-2"},tt={class:"flex justify-between w-full gap-4 py-2"},at={class:"text-sm font-medium whitespace-nowrap min-w-[6.25rem] text-n-slate-12"},ot={class:"flex justify-between w-full gap-2 py-2"},st={class:"flex justify-between w-full gap-3 py-2"},rt={class:"text-sm font-medium whitespace-nowrap min-w-[7.5rem] text-n-slate-12"};function nt(o,t,r,e,n,c){return C(),H("div",Qe,[d("div",$e,[d("h3",null,N(e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.ARTICLE_PROPERTIES.ARTICLE_PROPERTIES")),1),p(e.Button,{icon:"i-lucide-x",size:"sm",variant:"ghost",color:"slate",class:"hover:text-n-slate-11",onClick:t[0]||(t[0]=s=>e.emit("close"))})]),d("div",et,[d("div",null,[d("div",tt,[d("label",at,N(e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.ARTICLE_PROPERTIES.META_DESCRIPTION")),1),p(e.TextArea,{modelValue:e.state.description,"onUpdate:modelValue":t[1]||(t[1]=s=>e.state.description=s),placeholder:e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.ARTICLE_PROPERTIES.META_DESCRIPTION_PLACEHOLDER"),class:"w-[13.75rem]","custom-text-area-wrapper-class":"!p-0 !border-0 !rounded-none !bg-transparent transition-none","custom-text-area-class":"max-h-[9.375rem]","auto-height":"","min-height":"3rem"},null,8,["modelValue","placeholder"])]),d("div",ot,[p(e.InlineInput,{modelValue:e.state.title,"onUpdate:modelValue":t[2]||(t[2]=s=>e.state.title=s),placeholder:e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.ARTICLE_PROPERTIES.META_TITLE_PLACEHOLDER"),label:e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.ARTICLE_PROPERTIES.META_TITLE"),"custom-label-class":"min-w-[7.5rem]"},null,8,["modelValue","placeholder","label"])]),d("div",st,[d("label",rt,N(e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.ARTICLE_PROPERTIES.META_TAGS")),1),p(e.TagInput,{modelValue:e.state.tags,"onUpdate:modelValue":t[3]||(t[3]=s=>e.state.tags=s),placeholder:e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.ARTICLE_PROPERTIES.META_TAGS_PLACEHOLDER"),class:"w-[14rem]"},null,8,["modelValue","placeholder"])])])])])}const it=F(Je,[["render",nt],["__file","/app/app/javascript/dashboard/components-next/HelpCenter/Pages/ArticleEditorPage/ArticleEditorProperties.vue"]]),lt={__name:"ArticleEditorControls",props:{article:{type:Object,default:()=>({})}},emits:["saveArticle","setAuthor","setCategory"],setup(o,{expose:t,emit:r}){t();const e=o,n=r,{t:c}=w(),s=K(),E=y(!1),_=y(!1),A=y(!1),u=y(null),f=y(null),I=z("agents/getAgents"),S=z("categories/allCategories"),k=z("getCurrentUserID"),v=m(()=>{var a;return!((a=e.article)!=null&&a.id)}),j=m(()=>I.value.find(a=>a.id===k.value)),P=m(()=>s.params.categorySlug),T=m(()=>{var a;return v.value?u.value?I.value.find(i=>i.id===u.value):j.value:((a=e.article)==null?void 0:a.author)||null}),l=m(()=>{var a,i;return((a=T.value)==null?void 0:a.name)||((i=T.value)==null?void 0:i.available_name)||""}),x=m(()=>{var a;return(a=T.value)==null?void 0:a.thumbnail}),R=m(()=>{var a;return((a=I.value)==null?void 0:a.map(({name:i,id:g,thumbnail:O})=>{var B,V;return{label:i,value:g,thumbnail:{name:i,src:O},isSelected:(V=(B=e.article)==null?void 0:B.author)!=null&&V.id?g===e.article.author.id:g===(u.value||k.value),action:"assignAuthor"}}).toSorted((i,g)=>i.isSelected!==g.isSelected?Number(g.isSelected)-Number(i.isSelected):i.label.localeCompare(g.label)))??[]}),Z=m(()=>{var a;return((a=I.value)==null?void 0:a.length)>1}),q=a=>{var i;return(i=S.value)==null?void 0:i.find(g=>g.slug===a)},Q=a=>{const i=q(a);return i?(f.value=i.id,i):null},$=m(()=>{if(v.value){if(P.value){const a=Q(P.value);if(a)return a}return f.value?S.value.find(a=>a.id===f.value):S.value[0]||null}return S.value.find(a=>{var i,g;return a.id===((g=(i=e.article)==null?void 0:i.category)==null?void 0:g.id)})}),ee=m(()=>S.value.map(({name:a,id:i,icon:g})=>{var O,B,V;return{label:a,value:i,emoji:g,isSelected:v.value?i===(f.value||((O=$.value)==null?void 0:O.id)):i===((V=(B=e.article)==null?void 0:B.category)==null?void 0:V.id),action:"assignCategory"}}).toSorted((a,i)=>Number(i.isSelected)-Number(a.isSelected))),Ae=m(()=>{var a;return((a=ee.value)==null?void 0:a.length)>0}),te=({action:a,value:i})=>{var O;const g={assignAuthor:()=>{v.value?(u.value=i,n("setAuthor",i)):n("saveArticle",{author_id:i}),E.value=!1},assignCategory:()=>{v.value?(f.value=i,n("setCategory",i)):n("saveArticle",{category_id:i}),_.value=!1}};(O=g[a])==null||O.call(g)},fe=a=>{n("saveArticle",{meta:a})};W(()=>{if(P.value&&v.value){const a=q(P.value);a&&te({action:"assignCategory",value:a==null?void 0:a.id})}});const ae={props:e,emit:n,t:c,route:s,openAgentsList:E,openCategoryList:_,openProperties:A,selectedAuthorId:u,selectedCategoryId:f,agents:I,categories:S,currentUserId:k,isNewArticle:v,currentUser:j,categorySlugFromRoute:P,author:T,authorName:l,authorThumbnailSrc:x,agentList:R,hasAgentList:Z,findCategoryFromSlug:q,assignCategoryFromSlug:Q,selectedCategory:$,categoryList:ee,hasCategoryMenuItems:Ae,handleArticleAction:te,updateMeta:fe,computed:m,ref:y,onMounted:W,get useI18n(){return w},get useRoute(){return K},get OnClickOutside(){return ge},get useMapGetter(){return z},Button:J,Avatar:Ue,DropdownMenu:pe,ArticleEditorProperties:it};return Object.defineProperty(ae,"__isScriptSetup",{enumerable:!1,value:!0}),ae}},ct={class:"flex items-center gap-4"},dt={class:"relative flex items-center gap-2"},ut={class:"text-sm text-n-slate-12 hover:text-n-slate-11"},Et={class:"relative"},pt={key:0,class:"text-sm text-n-slate-12 hover:text-n-slate-11"},mt={class:"relative"};function gt(o,t,r,e,n,c){return C(),H("div",ct,[d("div",dt,[p(e.OnClickOutside,{onTrigger:t[1]||(t[1]=s=>e.openAgentsList=!1)},{default:b(()=>[p(e.Button,{variant:"ghost",color:"slate",class:"!px-0 font-normal hover:!bg-transparent","text-variant":"info",onClick:t[0]||(t[0]=s=>e.openAgentsList=!e.openAgentsList)},{default:b(()=>[p(e.Avatar,{name:e.authorName,src:e.authorThumbnailSrc,size:20,"rounded-full":""},null,8,["name","src"]),d("span",ut,N(e.authorName||"-"),1)]),_:1}),e.openAgentsList&&e.hasAgentList?(C(),G(e.DropdownMenu,{key:0,"menu-items":e.agentList,"show-search":"",class:"z-[100] w-48 mt-2 overflow-y-auto ltr:left-0 rtl:right-0 top-full max-h-60",onAction:e.handleArticleAction},null,8,["menu-items"])):U("v-if",!0)]),_:1})]),t[7]||(t[7]=d("div",{class:"w-px h-3 bg-n-weak"},null,-1)),d("div",Et,[p(e.OnClickOutside,{onTrigger:t[3]||(t[3]=s=>e.openCategoryList=!1)},{default:b(()=>{var s,E;return[p(e.Button,{label:((s=e.selectedCategory)==null?void 0:s.name)||e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.EDIT_ARTICLE.UNCATEGORIZED"),icon:(E=e.selectedCategory)!=null&&E.icon?"":"i-lucide-shapes",variant:"ghost",color:"slate",class:"!px-2 font-normal hover:!bg-transparent",onClick:t[2]||(t[2]=_=>e.openCategoryList=!e.openCategoryList)},{default:b(()=>[e.selectedCategory?(C(),H("span",pt,N(`${e.selectedCategory.icon||""} ${e.selectedCategory.name||e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.EDIT_ARTICLE.UNCATEGORIZED")}`),1)):U("v-if",!0)]),_:1},8,["label","icon"]),e.openCategoryList&&e.hasCategoryMenuItems?(C(),G(e.DropdownMenu,{key:0,"menu-items":e.categoryList,"show-search":"",class:"w-48 mt-2 z-[100] overflow-y-auto left-0 top-full max-h-60",onAction:e.handleArticleAction},null,8,["menu-items"])):U("v-if",!0)]}),_:1})]),t[8]||(t[8]=d("div",{class:"w-px h-3 bg-n-weak"},null,-1)),d("div",mt,[p(e.OnClickOutside,{onTrigger:t[6]||(t[6]=s=>e.openProperties=!1)},{default:b(()=>[p(e.Button,{label:e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.EDIT_ARTICLE.MORE_PROPERTIES"),icon:"i-lucide-plus",variant:"ghost",color:"slate",disabled:e.isNewArticle,class:"!px-2 font-normal hover:!bg-transparent hover:!text-n-slate-11",onClick:t[4]||(t[4]=s=>e.openProperties=!e.openProperties)},null,8,["label","disabled"]),e.openProperties?(C(),G(e.ArticleEditorProperties,{key:0,article:r.article,class:"right-0 z-[100] mt-2 xl:left-0 top-full",onSaveArticle:e.updateMeta,onClose:t[5]||(t[5]=s=>e.openProperties=!1)},null,8,["article"])):U("v-if",!0)]),_:1})])])}const At=F(lt,[["render",gt],["__file","/app/app/javascript/dashboard/components-next/HelpCenter/Pages/ArticleEditorPage/ArticleEditorControls.vue"]]),ft={__name:"ArticleEditor",props:{article:{type:Object,default:()=>({})},isUpdating:{type:Boolean,default:!1},isSaved:{type:Boolean,default:!1}},emits:["saveArticle","saveArticleAsync","goBack","setAuthor","setCategory","previewArticle"],setup(o,{expose:t,emit:r}){t();const e=o,n=r,{t:c}=w(),s=m(()=>{var l;return!((l=e.article)!=null&&l.id)}),E=l=>{n("saveArticle",l)},_=D(l=>n("saveArticleAsync",l),400,!1),A=D(E,2500,!1),u=D(E,400,!1),f=l=>{s.value?u(l):(_(l),A(l))},I=m({get:()=>e.article.title,set:l=>{f({title:l})}}),S=m({get:()=>e.article.content,set:l=>{f({content:l})}}),T={props:e,emit:n,t:c,isNewArticle:s,saveAndSync:E,quickSave:_,saveAndSyncDebounced:A,quickSaveNewArticle:u,handleSave:f,articleTitle:I,articleContent:S,onClickGoBack:()=>{n("goBack")},setAuthorId:l=>{n("setAuthor",l)},setCategoryId:l=>{n("setCategory",l)},previewArticle:()=>{n("previewArticle")},computed:m,get debounce(){return D},get useI18n(){return w},get ARTICLE_EDITOR_MENU_OPTIONS(){return Se},HelpCenterLayout:Re,TextArea:me,FullEditor:Ge,ArticleEditorHeader:Ye,ArticleEditorControls:At};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}},_t={class:"flex flex-col gap-3 pl-4 mb-3 rtl:pr-3 rtl:pl-0"};function ht(o,t,r,e,n,c){return C(),G(e.HelpCenterLayout,{"show-header-title":!1,"show-pagination-footer":!1},{"header-actions":b(()=>[p(e.ArticleEditorHeader,{"is-updating":r.isUpdating,"is-saved":r.isSaved,status:r.article.status,"article-id":r.article.id,onGoBack:e.onClickGoBack,onPreviewArticle:e.previewArticle},null,8,["is-updating","is-saved","status","article-id"])]),content:b(()=>[d("div",_t,[p(e.TextArea,{modelValue:e.articleTitle,"onUpdate:modelValue":t[0]||(t[0]=s=>e.articleTitle=s),"auto-height":"","min-height":"4rem","custom-text-area-class":"!text-[32px] !leading-[48px] !font-medium !tracking-[0.2px]","custom-text-area-wrapper-class":"border-0 !bg-transparent dark:!bg-transparent !py-0 !px-0",placeholder:"Title",autofocus:""},null,8,["modelValue"]),p(e.ArticleEditorControls,{article:r.article,onSaveArticle:e.saveAndSync,onSetAuthor:e.setAuthorId,onSetCategory:e.setCategoryId},null,8,["article"])]),p(e.FullEditor,{modelValue:e.articleContent,"onUpdate:modelValue":t[1]||(t[1]=s=>e.articleContent=s),class:"py-0 pb-10 pl-4 rtl:pr-4 rtl:pl-0 h-fit",placeholder:e.t("HELP_CENTER.EDIT_ARTICLE_PAGE.EDIT_ARTICLE.EDITOR_PLACEHOLDER"),"enabled-menu-options":e.ARTICLE_EDITOR_MENU_OPTIONS,autofocus:!1},null,8,["modelValue","placeholder","enabled-menu-options"])]),_:1})}const xt=F(ft,[["render",ht],["__scopeId","data-v-28305de4"],["__file","/app/app/javascript/dashboard/components-next/HelpCenter/Pages/ArticleEditorPage/ArticleEditor.vue"]]);export{xt as A};
